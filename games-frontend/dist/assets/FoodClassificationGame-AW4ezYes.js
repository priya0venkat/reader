import{j as s,u as k,r as i}from"./index-Bn7O6o8G.js";const x=[{id:1,name:"Yoghurt",category:"Dairy",emoji:"ü•£"},{id:2,name:"Bread",category:"Carbohydrates",emoji:"üçû"},{id:3,name:"Banana",category:"Fruits & Veggies",emoji:"üçå"},{id:4,name:"Melon",category:"Fruits & Veggies",emoji:"üçà"},{id:5,name:"Chicken",category:"Proteins",emoji:"üçó"},{id:6,name:"Cereal",category:"Carbohydrates",emoji:"ü•£"},{id:7,name:"Blueberries",category:"Fruits & Veggies",emoji:"ü´ê"},{id:8,name:"Pizza",category:"Carbohydrates",emoji:"üçï"},{id:9,name:"Egg",category:"Proteins",emoji:"ü•ö"},{id:10,name:"Cucumber",category:"Fruits & Veggies",emoji:"ü•í"},{id:11,name:"Milk",category:"Dairy",emoji:"ü•õ"},{id:12,name:"Cheese",category:"Dairy",emoji:"üßÄ"},{id:13,name:"Mandarin Orange",category:"Fruits & Veggies",emoji:"üçä"},{id:14,name:"Pear",category:"Fruits & Veggies",emoji:"üçê"},{id:15,name:"Apple",category:"Fruits & Veggies",emoji:"üçé"},{id:16,name:"Potsticker",category:"Proteins",emoji:"ü•ü"},{id:17,name:"Bagel",category:"Carbohydrates",emoji:"ü•Ø"},{id:18,name:"Oatmeal",category:"Carbohydrates",emoji:"ü•£"},{id:19,name:"Grapes",category:"Fruits & Veggies",emoji:"üçá"},{id:20,name:"Plum",category:"Fruits & Veggies",emoji:"üçë"}];function v({food:t}){return s.jsxs("div",{className:"food-card",children:[s.jsx("div",{className:"image-container",children:s.jsx("div",{className:"food-image",children:t.emoji})}),s.jsx("h2",{className:"food-name",children:t.name})]})}const T=[{name:"Fruits & Veggies",color:"#4CAF50",icon:"üçé"},{name:"Proteins",color:"#F44336",icon:"üçó"},{name:"Carbohydrates",color:"#FF9800",icon:"üçû"},{name:"Dairy",color:"#2196F3",icon:"ü•õ"}];function V({onCategoryClick:t}){return s.jsx("div",{className:"category-buttons-container",children:T.map(e=>s.jsxs("button",{className:"category-btn",style:{backgroundColor:e.color},onClick:()=>t(e.name),children:[s.jsx("span",{className:"btn-icon",children:e.icon}),s.jsx("span",{className:"btn-label",children:e.name})]},e.name))})}function A({isCorrect:t}){return s.jsxs("div",{className:`feedback ${t?"correct":"wrong"}`,children:[s.jsx("div",{className:"feedback-emoji",children:t?"üéâ":"üòÖ"}),s.jsx("div",{className:"feedback-text",children:t?"Great job!":"Try again!"})]})}const u=(t,e=1,a=1)=>{if(!("speechSynthesis"in window)){console.warn("Speech synthesis not supported in this browser");return}window.speechSynthesis.cancel();const o=new SpeechSynthesisUtterance(t);o.rate=e,o.pitch=a,o.volume=1,window.speechSynthesis.speak(o)},P=t=>{const e=`${t}. Is it Fruits and Veggies, Carbohydrates, Proteins, or Dairy?`;u(e,.9,1)},d=(t,e="sine",a=.2,o=.3)=>{try{const n=new(window.AudioContext||window.webkitAudioContext),r=n.createOscillator(),c=n.createGain();r.connect(c),c.connect(n.destination),r.frequency.value=t,r.type=e,c.gain.setValueAtTime(o,n.currentTime),c.gain.exponentialRampToValueAtTime(.01,n.currentTime+a),r.start(n.currentTime),r.stop(n.currentTime+a),setTimeout(()=>{n.state!=="closed"&&n.close()},a*1e3+100)}catch(n){console.warn("Audio playback error:",n)}},G=()=>{u("Correct!",1.2,1.2),d(523.25,"sine",.15,.3),setTimeout(()=>d(659.25,"sine",.15,.3),100)},B=()=>{u("Try again",1,.9),d(196,"sawtooth",.25,.25)},D=()=>{u("Great job! You completed the game!",1,1.1),setTimeout(()=>d(523.25,"sine",.2,.3),0),setTimeout(()=>d(659.25,"sine",.2,.3),150),setTimeout(()=>d(783.99,"sine",.3,.3),300),setTimeout(()=>d(1046.5,"sine",.4,.3),500)},b=t=>{const e=[...t];for(let a=e.length-1;a>0;a--){const o=Math.floor(Math.random()*(a+1));[e[a],e[o]]=[e[o],e[a]]}return e};function M(){const t=k(),[e,a]=i.useState([]),[o,n]=i.useState(0),[r,c]=i.useState(0),[l,m]=i.useState(!1),[p,C]=i.useState(!1),[g,j]=i.useState(!1),[h,F]=i.useState(!1);i.useEffect(()=>{a(b(x)),F(!0)},[]),i.useEffect(()=>{if(h&&!g&&!l&&e.length>0){const y=e[o];P(y.name)}},[o,g,l,h,e]);const N=y=>{if(l)return;const f=e[o].category===y;C(f),m(!0),f?(c(r+1),G(),setTimeout(()=>{m(!1),o<e.length-1?n(o+1):(j(!0),D())},2e3)):(B(),setTimeout(()=>{m(!1)},2e3))},w=()=>{a(b(x)),n(0),c(0),j(!1),m(!1)};if(!h||e.length===0)return s.jsx("div",{className:"app-container",children:"Loading..."});if(g)return s.jsxs("div",{className:"game-over-screen",children:[s.jsx("h1",{children:"Great Job! üéâ"}),s.jsxs("p",{children:["You scored ",r," out of ",e.length,"!"]}),s.jsx("button",{className:"restart-btn",onClick:w,children:"Play Again"}),s.jsx("button",{className:"home-btn-large",onClick:()=>t("/"),children:"üè† Home"})]});const S=e[o];return s.jsxs("div",{className:"app-container",children:[s.jsxs("header",{className:"game-header",children:[s.jsx("button",{onClick:()=>t("/"),className:"home-btn",children:"üè†"}),s.jsx("h1",{children:"Food Classifier"}),s.jsxs("div",{className:"score-board",children:["Score: ",r]})]}),s.jsxs("main",{className:"game-area",children:[s.jsx("div",{className:"progress-bar-container",children:s.jsx("div",{className:"progress-bar",style:{width:`${o/e.length*100}%`}})}),s.jsx(v,{food:S}),l?s.jsx(A,{isCorrect:p}):s.jsx(V,{onCategoryClick:N})]})]})}export{M as default};
